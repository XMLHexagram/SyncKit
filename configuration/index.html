<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.71">
<link rel="alternate" type="application/rss+xml" href="/SyncKit/blog/rss.xml" title="SyncKit Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/SyncKit/blog/atom.xml" title="SyncKit Blog Atom Feed"><title data-react-helmet="true">Configuration | SyncKit</title><meta data-react-helmet="true" property="og:url" content="https://mentrena.github.io//SyncKit/configuration"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configuration | SyncKit"><meta data-react-helmet="true" name="description" content="Record Zone ID"><meta data-react-helmet="true" property="og:description" content="Record Zone ID"><link data-react-helmet="true" rel="shortcut icon" href="/SyncKit/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://mentrena.github.io//SyncKit/configuration"><link data-react-helmet="true" rel="alternate" href="https://mentrena.github.io//SyncKit/configuration" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mentrena.github.io//SyncKit/configuration" hreflang="x-default"><link rel="stylesheet" href="/SyncKit/assets/css/styles.8ce7826d.css">
<link rel="preload" href="/SyncKit/assets/js/styles.f3af2865.js" as="script">
<link rel="preload" href="/SyncKit/assets/js/runtime~main.c9028a01.js" as="script">
<link rel="preload" href="/SyncKit/assets/js/main.aeeebc40.js" as="script">
<link rel="preload" href="/SyncKit/assets/js/1.5bd97f80.js" as="script">
<link rel="preload" href="/SyncKit/assets/js/2.4328ab64.js" as="script">
<link rel="preload" href="/SyncKit/assets/js/64.c13130af.js" as="script">
<link rel="preload" href="/SyncKit/assets/js/935f2afb.ca026cb7.js" as="script">
<link rel="preload" href="/SyncKit/assets/js/17896441.ea4a841e.js" as="script">
<link rel="preload" href="/SyncKit/assets/js/9ed00105.a8bd0364.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/SyncKit/"><img src="/SyncKit/img/SyncKit.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/SyncKit/img/SyncKit.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">SyncKit</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/SyncKit/">Docs</a><a class="navbar__item navbar__link" href="/SyncKit/Core/classes/CloudKitSynchronizer">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mentrena/SyncKit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/SyncKit/"><img src="/SyncKit/img/SyncKit.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/SyncKit/img/SyncKit.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">SyncKit</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/SyncKit/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/SyncKit/Core/classes/CloudKitSynchronizer">API</a></li><li class="menu__list-item"><a href="https://github.com/mentrena/SyncKit" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/SyncKit/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/SyncKit/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/SyncKit/example">Example app</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Using SyncKit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/SyncKit/overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Core Data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/SyncKit/coredata">SyncKit for Core Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/SyncKit/migration">Migrating from SyncKit 0.3.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Realm</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/SyncKit/realm">SyncKit for Realm</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/SyncKit/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/SyncKit/sharing">Sharing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/SyncKit/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/SyncKit/faq">FAQ</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Configuration</h1></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="record-zone-id"></a>Record Zone ID<a class="hash-link" href="#record-zone-id" title="Direct link to heading">#</a></h3><p>In the case of the private synchronizer you can optionally specify the name of the CloudKit record zone to use for synchronization. Otherwise the default will be used:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">CKRecordZone.ID(zoneName: &quot;QSCloudKitCustomZoneName&quot;, ownerName: CKCurrentUserDefaultName)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="when-to-sync"></a>When to sync<a class="hash-link" href="#when-to-sync" title="Direct link to heading">#</a></h3><p>A common question is when to trigger a new sync process. Model adapters will post the <code>ModelAdapterHasChangesNotification</code> notification when they detect new changes, so one option is to listen for that to either trigger the sync automatically or to update some UI element to let the user know, in case your app lets the user initiate the sync.</p><p>This notification is posted only once, when the model adapter goes from &quot;synced&quot; to &quot;changed&quot;, rather than for every change that happens.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="other-notifications"></a>Other notifications<a class="hash-link" href="#other-notifications" title="Direct link to heading">#</a></h3><p><code>CloudKitSynchronizer</code> also posts <a href="/SyncKit/Core/classes/CloudKitSynchronizer#notifications">other notifications</a> when it&#x27;s syncing.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sync"></a>Sync<a class="hash-link" href="#sync" title="Direct link to heading">#</a></h3><p>Only one sync process can be active at the same time. If you call <code>synchronize</code> while <code>CloudKitSynchronizer</code> is already doing so you will receive an <code>alreadySyncing</code> <a href="/SyncKit/Core/enums/CloudKitSynchronizer.SyncError">error</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="model-compatibility"></a>Model compatibility<a class="hash-link" href="#model-compatibility" title="Direct link to heading">#</a></h3><p>If you create a new version of your Core Data or Realm model you might want to avoid versions of your app running older versions of the model to get any records that were created under the new model. For that, you can use:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public var compatibilityVersion: Int</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>When a new model version is created, you can increase the <code>compatibilityVersion</code> on the synchronizer. If a synchronizer receives a record from CloudKit that was created by a newer version, the sync process will terminate with a <code>higherModelVersionFound</code> error. Do note that the opposite is not true, newer versions of your app might still receive records created by the older version, if the user upgraded the app while it was not fully synced, for example.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="batch-size"></a>Batch size<a class="hash-link" href="#batch-size" title="Direct link to heading">#</a></h3><p>By default <code>CloudKitSynchronizer</code> will use a batch size of 200. You can change that number using:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public var batchSize: Int</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Regardless of the initial value, if <code>CloudKitSynchronizer</code> ever receives a <code>CKError.Code.limitExceeded</code> from CloudKit it will reduce the batch size for future operations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="adapter-configuration"></a>Adapter configuration<a class="hash-link" href="#adapter-configuration" title="Direct link to heading">#</a></h2><p>Model adapters are accessible via the <code>modelAdapters</code> property in <code>CloudKitSynchronizer</code>, and you can perform further customization on them if you need.
A synchronizer for the private database will commonly only have one model adapter, but synchronizers for the shared database will have one model adapter for each record zone that was shared with this user.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="merge-policy"></a>Merge policy<a class="hash-link" href="#merge-policy" title="Direct link to heading">#</a></h3><p>Server, local or custom policies are <a href="/SyncKit/Core/enums/MergePolicy">available</a></p><p>A custom merge policy is possible by providing a conflict resolution delegate to the model adapter. <a href="/SyncKit/CoreDataAPI/protocols/CoreDataAdapterConflictResolutionDelegate">Core Data</a>, <a href="/SyncKit/RealmSwiftAPI/protocols/RealmSwiftAdapterDelegate">Realm</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="custom-record-processing"></a>Custom record processing<a class="hash-link" href="#custom-record-processing" title="Direct link to heading">#</a></h3><p>It is possible for your app to customize the way records are created and handled by providing a record processing delegate to your model adapter.
This will let you do things like:</p><ul><li>Remove specific fields from your records before they&#x27;re sent to CloudKit.</li><li>Read and write files from the file system to send them as CKAssets, if your model contains references to files in the file system rather than the data itself.</li></ul><p><a href="/SyncKit/CoreDataAPI/protocols/CoreDataAdapterRecordProcessing">Core Data</a>
<a href="/SyncKit/RealmSwiftAPI/protocols/RealmSwiftAdapterRecordProcessing">Realm</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ckasset-as-data"></a>CKAsset as Data<a class="hash-link" href="#ckasset-as-data" title="Direct link to heading">#</a></h3><p>By default <code>Data</code> properties are uploaded using <code>CKAsset</code>, but you can force the use of <code>Data</code> by setting:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><div tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public var forceDataTypeInsteadOfAsset: Bool</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="haschanges"></a>hasChanges<a class="hash-link" href="#haschanges" title="Direct link to heading">#</a></h3><p>Model adapters also have a <code>hasChanges</code> property that you can check to tell if there are any changes that have not been uploaded to iCloud yet.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/SyncKit/realm"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« SyncKit for Realm</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/SyncKit/sharing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sharing Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#record-zone-id" class="table-of-contents__link">Record Zone ID</a></li><li><a href="#when-to-sync" class="table-of-contents__link">When to sync</a></li><li><a href="#other-notifications" class="table-of-contents__link">Other notifications</a></li><li><a href="#sync" class="table-of-contents__link">Sync</a></li><li><a href="#model-compatibility" class="table-of-contents__link">Model compatibility</a></li><li><a href="#batch-size" class="table-of-contents__link">Batch size</a></li><li><a href="#adapter-configuration" class="table-of-contents__link">Adapter configuration</a><ul><li><a href="#merge-policy" class="table-of-contents__link">Merge policy</a></li><li><a href="#custom-record-processing" class="table-of-contents__link">Custom record processing</a></li><li><a href="#ckasset-as-data" class="table-of-contents__link">CKAsset as Data</a></li><li><a href="#haschanges" class="table-of-contents__link">hasChanges</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/SyncKit/">Getting started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Support</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/mentrena/SyncKit/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a bug on Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/mentrena/SyncKit" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 SyncKit. Built with Docusaurus.</div></div></div></footer></div>
<script src="/SyncKit/assets/js/styles.f3af2865.js"></script>
<script src="/SyncKit/assets/js/runtime~main.c9028a01.js"></script>
<script src="/SyncKit/assets/js/main.aeeebc40.js"></script>
<script src="/SyncKit/assets/js/1.5bd97f80.js"></script>
<script src="/SyncKit/assets/js/2.4328ab64.js"></script>
<script src="/SyncKit/assets/js/64.c13130af.js"></script>
<script src="/SyncKit/assets/js/935f2afb.ca026cb7.js"></script>
<script src="/SyncKit/assets/js/17896441.ea4a841e.js"></script>
<script src="/SyncKit/assets/js/9ed00105.a8bd0364.js"></script>
</body>
</html>